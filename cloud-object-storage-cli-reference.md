---

copyright:
  years: 2017, 2020
lastupdated: "2020-01-15"


keywords: faq, frequently asked questions, object storage

subcollection: cloud-object-storage-cli

---
{:external: target="_blank" .external}
{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:important: .important}
{:note: .note}
{:download: .download} 
{:http: .ph data-hd-programlang='http'} 
{:javascript: .ph data-hd-programlang='javascript'} 
{:java: .ph data-hd-programlang='java'} 
{:python: .ph data-hd-programlang='python'}
{:faq: data-hd-content-type='faq'}
{:support: data-reuse='support'}

# IBM Cloud Object Storage CLI
{: #ic-cos-cli}

The {{site.data.keyword.cloud}} Object Storage plug-in extends the {{site.data.keyword.cloud}} command line interface (CLI) with an API wrapper for working with Object Storage resources.
{: .shortdesc}

## Installation and configuration
{: #ic-installation}

The plug-in is compatible with Windows, Linux, and macOS operating systems that run on 64-bit processors.

Install the plug-in by using the `plugin install` command.

```
ibmcloud plugin install cloud-object-storage
```

Once the plug-in is installed, you can configure the plug-in by using the [`ibmcloud cos config`](#configure-the-program) command. This can be used to populate the plug-in with your credentials, default download location, choosing your authentication, etc.

The program also offers the ability for you to set the default local directory for downloaded files, and to set a default region. To set the default download location, type `ibmcloud cos config ddl` and input into the program a valid file path. To set a default region, type `ibmcloud cos config region` and provide an input into the program a region code, such as `us-south`. By default, this value is set to `us-geo`.

You can view your current Cloud Object Storage credentials by prompting `ibmcloud cos config list`. As the config file is generated by the plug-in, it's best not to edit the file manually.

### IAM Authentication
{: #ic-IAM-authentication}

If you are using IAM authentication, then you then you must provide a CRN to use some of the commands. To set the CRN, you can type `ibmcloud cos config crn` and provide your CRN. To retrieve the CRN you can type `ibmcloud resource service-instance <INSTANCE_NAME> --id`, replace `<INSTANCE_NAME>` with the unique alias that you assigned to your service instance.  The following truncated example shows the CLI output.

```
crn:v1:bluemix:public:kms:us-south:a/f047b55a3362ac06afad8a3f2f5586ea:42454b3b-5b06-407b-a4b3-34d9ef323901:: 42454b3b-5b06-407b-a4b3-34d9ef323901
```
The `42454b3b-5b06-407b-a4b3-34d9ef323901` value is an example instance ID.

Alternatively, you might open the web-based console, select **Service credentials** in the sidebar, and create a new set of credentials (or view an existing credential file that you already created).

### HMAC Credentials
{: #ic-hmac-credentials}

If preferred, a [Service ID's HMAC credentials](/docs/services/cloud-object-storage?topic=cloud-object-storage-hmac) can be used instead of your API key. Run `ibmcloud cos config hmac` to input the HMAC credentials, and then switch the authorization method by using `ibmcloud cos config auth`.

If you choose to use token authentication with your own API key, you don't need to provide any credentials as the program authenticates you automatically.
{: note}

At any time, to switch between HMAC and IAM authentication, you can type `ibmcloud cos config auth`. For more information about authentication and authorization in IBM Cloud, see the [Identity and Access Management documentation](/docs/iam?topic=iam-iamoverview).

## Command index
{: #ic-command-index}

Each operation has an explanation of what it does, how to use it, and any optional or required parameters. Unless specified as optional, any listed parameters are mandatory.

The CLI plug-in doesn't yet support the full suite of features available in Object Storage. Aspera High-Speed Transfer, Immutable Object Storage, creating Key Protect buckets, or Bucket Firewalls cannot be used by the CLI.
{: note}

## Abort a multipart upload
{: #ic-abort-multipart-upload}
* **Action:** Abort a multipart upload instance by ending the upload to the bucket in the user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos abort-multipart-upload --bucket BUCKET_NAME --key KEY --upload-id ID [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* Upload ID identifying the multipart upload.
		* Flag: `--upload-id ID`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`



## Complete a multipart upload
{: #ic-complete-multipart-upload}
* **Action:** Complete a multipart upload instance by assembling the currently uploaded parts and uploading the file to the bucket in the user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos complete-multipart-upload --bucket BUCKET_NAME --key KEY --upload-id ID --multipart-upload STRUCTURE [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* Upload ID identifying the multipart upload.
		* Flag: `--upload-id ID`
	* The STRUCTURE of MultipartUpload to set.
		* Flag: `--multipart-upload STRUCTURE`
		* Shorthand Syntax:  
		`--multipart-upload 'Parts=[{ETag=string,PartNumber=integer},{ETag=string,PartNumber=integer}]'`
		* JSON Syntax:  
	`--multipart-upload file://<filename.json>`  
	The `--multipart-upload` command takes a JSON structure that describes the parts of the multipart upload that should be reassembled into the complete file. In this example, the `file://` prefix is used to load the JSON structure from the specified file.
		```
			{
  			"Parts": [
    			{
     			 "ETag": "string",
     			 "PartNumber": integer
    			}
    			...
  				]
			}
		```
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`



## Configure the Program
{: #ic-config}
* **Action:** Configure the program's preferences.
* **Usage:** `ibmcloud cos config [COMMAND]`
* **Commands:**
	* Switch between HMAC and IAM authentication.
		* Command: `auth`
	* Store CRN in the config.
		* Command: `crn`
	* Store Default Download Location in the config.
		* Command: `ddl`
	* Store HMAC credentials in the config.
		* Command: `hmac`
	* List configuration.
		* Command: `list`
	* Store Default Region in the config.
		* Command: `region`
	* Switch between VHost and Path URL style.
		* Command: `url-style`



## Copy object from bucket
{: #ic-copy-object}
* **Action:** Copy an object from source bucket to destination bucket.
* **Usage:** `ibmcloud cos copy-object --bucket BUCKET_NAME --key KEY --copy-source SOURCE [--cache-control CACHING_DIRECTIVES] [--content-disposition DIRECTIVES] [--content-encoding CONTENT_ENCODING] [--content-language LANGUAGE] [--content-type MIME] [--copy-source-if-match ETAG] [--copy-source-if-modified-since TIMESTAMP] [--copy-source-if-none-match ETAG] [--copy-source-if-unmodified-since TIMESTAMP] [--metadata MAP] [--metadata-directive DIRECTIVE] [--region REGION] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* (SOURCE) The name of the source bucket and key name of the source object, which is separated by a slash (/). Must be URL-encoded.
		* Flag: `--copy-source SOURCE`
	* _Optional_: Specifies `CACHING_DIRECTIVES` for the request and reply chain.
		* Flag: `--cache-control CACHING_DIRECTIVES`
	* _Optional_: Specifies presentation information (`DIRECTIVES`).
		* Flag: `--content-disposition DIRECTIVES`
	* _Optional_: Specifies what content encodings (CONTENT_ENCODING) are applied to the object and thus what decoding mechanisms must be applied to obtain the media-type referenced by the Content-Type header field.
		* Flag: `--content-encoding CONTENT_ENCODING`
	* _Optional_: The LANGUAGE the content is in.
		* Flag: `--content-language LANGUAGE`
	* _Optional_: A standard MIME type describing the format of the object data.
		* Flag: `--content-type MIME`
	* _Optional_: Copies the object if its entity tag (Etag) matches the specified tag (ETAG).
		* Flag: `--copy-source-if-match ETAG`
	* _Optional_: Copies the object if it has been modified since the specified time (TIMESTAMP).
		* Flag: `--copy-source-if-modified-since TIMESTAMP`
	* _Optional_: Copies the object if its entity tag (ETag) is different than the specified tag (ETAG).
		* Flag: `--copy-source-if-none-match ETAG`
	* _Optional_: Copies the object if it hasn't been modified since the specified time (TIMESTAMP).
		* Flag: `--copy-source-if-unmodified-since TIMESTAMP`
	* _Optional_: A MAP of metadata to store. Syntax: KeyName1=string,KeyName2=string
		* Flag: `--metadata MAP`
	* _Optional_: Specifies whether the metadata is copied from the source object or replaced with metadata provided in the request. DIRECTIVE values: COPY,REPLACE.
		* Flag: ` --metadata-directive DIRECTIVE`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`



## Create a new bucket
{: #ic-create-bucket}
* **Action:** Create a bucket in an IBM Cloud Object Storage instance.
* **Usage:** `ibmcloud cos create-bucket --bucket BUCKET_NAME [--class CLASS_NAME] [--ibm-service-instance-id ID] [--region REGION] [--json]`
	* Note that you must provide a CRN if you are using IAM authentication. This can be set by using the [`ibmcloud cos config crn`](#configure-the-program) command.
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: The name of the Class.
		* Flag: `--class CLASS_NAME`
	* _Optional_: Sets the IBM Service Instance ID in the request.
		* Flag: `--ibm-service-instance-id ID`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`



## Create a new multipart upload
{: #ic-create-multipart-upload}
* **Action:** Begin the multipart file upload process by creating a new multipart upload instance.
* **Usage:** `ibmcloud cos create-multipart-upload --bucket BUCKET_NAME --key KEY [--cache-control CACHING_DIRECTIVES] [--content-disposition DIRECTIVES] [--content-encoding CONTENT_ENCODING] [--content-language LANGUAGE] [--content-type MIME] [--metadata MAP] [--region REGION] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: Specifies `CACHING_DIRECTIVES` for the request and reply chain.
		* Flag: `--cache-control CACHING_DIRECTIVES`
	* _Optional_: Specifies presentation information (`DIRECTIVES`).
		* Flag: `--content-disposition DIRECTIVES`
	* _Optional_: Specifies the content encoding (`CONTENT_ENCODING`) of the object..
		* Flag: `--content-encoding CONTENT_ENCODING`
	* _Optional_: The LANGUAGE the content is in.
		* Flag: `--content-language LANGUAGE`
	* _Optional_: A standard MIME type describing the format of the object data.
		* Flag: `--content-type MIME`
	* _Optional_:  A MAP of metadata to store. Syntax: KeyName1=string,KeyName2=string
		* Flag: `--metadata MAP`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`



## Delete an existing bucket
{: #ic-delete-bucket}

* **Action:** Delete an existing bucket in an IBM Cloud Object Storage instance.
* **Usage:** `ibmcloud cos delete-bucket --bucket BUCKET_NAME [--region REGION] [--force] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
    * _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
       * Flag: `--region REGION`
    * _Optional_: The operation will do not ask for confirmation.
       * Flag: `--force`
    * _Optional_: Output returned in raw JSON format.
       * Flag: `--json`


## Delete bucket CORS
{: #ic-delete-bucket-cors}
* **Action:** Delete CORS configuration on a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos delete-bucket-cors --bucket BUCKET_NAME [--region REGION] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


## Delete an object
{: #ic-delete-object}
* **Action:** Delete an object from a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos delete-object --bucket BUCKET_NAME --key KEY [--region REGION] [--force] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
  * _Optional_: The operation will do not ask for confirmation.
  	* Flag: `--force`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


## Delete multiple objects
{: #ic-delete-objects}
* **Action:** Delete multiple objects from a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos delete-objects --bucket BUCKET_NAME --delete STRUCTURE [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.  
		* Flag: `--bucket BUCKET_NAME`  
	* A STRUCTURE using either shorthand or JSON syntax.  
		* Flag: `--delete STRUCTURE`  
		* Shorthand Syntax:  
		`--delete 'Objects=[{Key=string},{Key=string}],Quiet=boolean'`  
		* JSON Syntax:  
	`--delete file://<filename.json>`  
	The `--delete` command takes a JSON structure that describes the parts of the multipart upload that should be reassembled into the complete file. In this example, the `file://` prefix is used to load the JSON structure from the specified file.
	```
	{
  	"Objects": [
    	{
    	"Key": "string",
    	"VersionId": "string"
    	}
    ...
  	],
  	"Quiet": true|false
	}
	```
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

### Download objects by using S3Manager
{: #ic-download-s3manager}
* **Action:** Download objects from S3 concurrently.
* **Usage:** `ibmcloud cos download --bucket BUCKET_NAME --key KEY [--concurrency value] [--part-size SIZE] [--if-match ETAG] [--if-modified-since TIMESTAMP] [--if-none-match ETAG] [--if-unmodified-since TIMESTAMP] [--range RANGE] [--response-cache-control HEADER] [--response-content-disposition HEADER] [--response-content-encoding HEADER] [--response-content-language HEADER] [--response-content-type HEADER] [--response-expires HEADER] [--region REGION] [--json] [OUTFILE]`
* **Parameters to provide:**
	* The name (BUCKET_NAME) of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: The number of goroutines to spin up in parallel per call to Upload when sending parts. Default value is 5.
		* Flag: `--concurrency value`
	* _Optional_: The buffer SIZE (in bytes) to use when buffering data into chunks and ending them as parts to S3. The minimum allowed part size is 5MB.
		* Flag: `--part-size SIZE`
	* _Optional_: Return the object only if its entitytag (ETag) is the same as the ETAG specified, otherwise return a 412 (precondition failed).
		* Flag: `--if-match ETAG`
	* _Optional_: Return the object only if it has been modified since the specified TIMESTAMP, otherwise return a 304 (not modified).
		* Flag: `--if-modified-since TIMESTAMP`
	* _Optional_: Return the object only if its entity tag(ETag) is different from the ETAG specified, otherwise return a 304 (not modified).
		* Flag: `--if-none-match ETAG`
	* _Optional_: Return the object only if it has not been modified since the specified TIMESTAMP, otherwise return a 412 (precondition failed).
		* Flag: `--if-unmodified-since TIMESTAMP`
	* _Optional_: Downloads the specified RANGE bytes of an object. For more information about the HTTP Range header, [click here](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35).
		* Flag: `--range RANGE`
	* _Optional_: Sets the Cache-Control HEADER of the response.
		* Flag: `--response-cache-control HEADER`
	* _Optional_: Sets the Content-Disposition HEADER of the response.
		* Flag: `--response-content-disposition HEADER`
	* _Optional_: Sets the Content-Encoding HEADER of the response.
		* Flag: `--response-content-encoding HEADER`
	* _Optional_: Sets the Content-Language HEADER of the response.
		* Flag: `--response-content-language HEADER`
	* _Optional_: Sets the Content-Type HEADER of the response.
		* Flag: `--response-content-type HEADER`
	* _Optional_: Sets the Expires HEADER of the response.
		* Flag: `--response-expires HEADER`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program will use the default option specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`
	* _Optional_: The location where to save the content of the object. If this parameter is not provided, the program uses the default location.
		* Parameter: `OUTFILE`
		* 
## Get a bucket's class
{: #ic-bucket-class}
* **Action:** Determine the class of a bucket in an IBM Cloud Object Storage instance.
* **Usage:** `ibmcloud cos get-bucket-class --bucket BUCKET_NAME [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


## Get bucket CORS
{: #ic-get-bucket-cors}
* **Action:** Returns the CORS configuration for the bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos get-bucket-cors --bucket BUCKET_NAME [--region REGION] [--json]`
* **Parameters to provide:**
  * The name of the bucket.  
    * Flag: `--bucket BUCKET_NAME`
  * _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
    * Flag: `--region REGION`
  * _Optional_: Output returned in raw JSON format.
    * Flag: `--json`



## Find a bucket
{: #ic-find-bucket}
* **Action:** Determine the region and class of a bucket in an IBM Cloud Object Storage instance. 
* **Usage:** `ibmcloud cos get-bucket-location --bucket BUCKET_NAME [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`
	


## Download an object
{: #ic-download-object}
* **Action:** Download an object from a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos get-object --bucket BUCKET_NAME --key KEY [--if-match ETAG] [--if-modified-since TIMESTAMP] [--if-none-match ETAG] [--if-unmodified-since TIMESTAMP] [--range RANGE] [--response-cache-control HEADER] [--response-content-disposition HEADER] [--response-content-encoding HEADER] [--response-content-language HEADER] [--response-content-type HEADER] [--response-expires HEADER] [--region REGION] [--json] [OUTFILE]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: Return the object only if its entity tag (ETag) is the same as the ETAG specified, otherwise return a 412 (precondition failed).
		* Flag: `--if-match ETAG`
	* _Optional_: Return the object only if it has been modified since the specified TIMESTAMP, otherwise return a 304 (not modified).
		* Flag: `--if-modified-since TIMESTAMP`
	* _Optional_: Return the object only if its entity tag (ETag) is different from the ETAG specified, otherwise return a 304 (not modified).
		* Flag: `--if-none-match ETAG`
	* _Optional_: Return the object only if it has not been modified since the specified TIMESTAMP, otherwise return a 412 (precondition failed).
		* Flag: `--if-unmodified-since TIMESTAMP`
	* _Optional_: Downloads the specified RANGE bytes of an object.
		* Flag: `--range RANGE`
	* _Optional_: Sets the Cache-Control HEADER of the response.
		* Flag: `--response-cache-control HEADER`
	* _Optional_: Sets the Content-Disposition HEADER of the response.
		* Flag: `--response-content-disposition HEADER`
	* _Optional_: Sets the Content-Encoding HEADER of the response.
		* Flag: `--response-content-encoding HEADER`
	* _Optional_: Sets the Content-Language HEADER of the response.
		* Flag: `--response-content-language HEADER`
	* _Optional_: Sets the Content-Type HEADER of the response.
		* Flag: `--response-content-type HEADER`
	* _Optional_: Sets the Expires HEADER of the response.
		* Flag: `--response-expires HEADER`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`
	* _Optional_: The location where to save the content of the object. If this parameter is not provided, the program uses the default location.
		* Parameter: `OUTFILE`



## Get a bucket's headers
{: #ic-bucket-header}
* **Action:** Determine if a bucket exists in an IBM Cloud Object Storage instance.
* **Usage:** `ibmcloud cos head-bucket --bucket BUCKET_NAME [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


## Get an object's headers
{: #ic-object-header}
* **Action:** Determine if a file exists in a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos head-object --bucket BUCKET_NAME --key KEY [--if-match ETAG] [--if-modified-since TIMESTAMP] [--if-none-match ETAG] [--if-unmodified-since TIMESTAMP] [--range RANGE] [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: Return the object only if its entity tag (ETag) is the same as the ETAG specified, otherwise return a 412 (precondition failed).
		* Flag: `--if-match ETAG`
	* _Optional_: Return the object only if it has been modified since the specified TIMESTAMP, otherwise return a 304 (not modified).
		* Flag: `--if-modified-since TIMESTAMP`
	* _Optional_: Return the object only if its entity tag (ETag) is different from the ETAG specified, otherwise return a 304 (not modified).
		* Flag: `--if-none-match ETAG`
	* _Optional_: Return the object only if it has not been modified since the specified TIMESTAMP, otherwise return a 412 (precondition failed).
		* Flag: `--if-unmodified-since TIMESTAMP`
	* Downloads the specified RANGE bytes of an object.
		* Flag: `--range RANGE`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## List all buckets
{: #ic-list-buckets}
* **Action:** Print a list of all the buckets in a user's IBM Cloud Object Storage account. Buckets might be located in different regions.
* **Usage:** `ibmcloud cos list-buckets [--ibm-service-instance-id ID] [--json]`
	* Note that you must provide a CRN if you are using IAM authentication. This can be set by using the [`ibmcloud cos config crn`](#configure-the-program) command.
* **Parameters to provide:**
  * No parameters to provide.
	* _Optional_: Sets the IBM Service Instance ID in the request.
		* Flag: `--ibm-service-instance-id`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

### Extended Bucket Listing
{: #ic-extended-bucket-listing}
* **Action:** Print a list of all the buckets in a user's IBM Cloud Object Storage account. Buckets might be located in different regions.
* **Usage:** `ibmcloud cos list-buckets-extended [--ibm-service-instance-id ID] [--marker KEY] [--prefix PREFIX] [--page-size SIZE] [--max-items NUMBER] [--json] `
	* Note that you must provide a CRN if you are using IAM authentication. This can be set by using the [`ibmcloud cos config crn`](#configure-the-program) command.
* **Parameters to provide:**
  * No parameters to provide.
	* _Optional_: Sets the IBM Service Instance ID in the request.
		* Flag: `--ibm-service-instance-id`
	* _Optional_: Specifies the KEY to start with when listing objects in a bucket.
		* Flag: `--marker KEY`
	* _Optional_: Limits the response to keys that begin with the specified PREFIX.
		* Flag: `--prefix PREFIX`
	* _Optional_: The SIZE of each page to get in the service call. This does not affect the number of items returned in the command's output. Setting a smaller page size results in more calls to the service, retrieving fewer items in each call. This can help prevent the service calls from timing out.
		* Flag: `--page-size SIZE`
	* _Optional_: The total NUMBER of items to return in the command's output.
		* Flag: `--max-items NUMBER`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## List in-progress multipart uploads
{: #ic-list-multipart-uploads}
* **Action:** Lists in-progress multipart uploads.
* **Usage:** `ibmcloud cos list-multipart-uploads --bucket BUCKET_NAME [--delimiter DELIMITER] [--encoding-type METHOD] [--prefix PREFIX] [--key-marker value] [--upload-id-marker value] [--page-size SIZE] [--max-items NUMBER] [--region REGION] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: A DELIMITER is a character that you use to group keys.
		* Flag: `--delimiter DELIMITER`
	* _Optional_: Requests to encode the object keys in the response and specifies the encoding METHOD to use.
		* Flag: `--encoding-type METHOD`
	* _Optional_: Limits the response to keys that begin with the specified PREFIX.
		* Flag: `--prefix PREFIX`
	* _Optional_:  Together with upload-id-marker, this parameter specifies the multipart upload after which listing should begin.
		* Flag: `--key-marker value`
	* _Optional_: Together with key-marker, specifies the multipart upload after which listing should begin. If key-marker is not specified, the upload-id-marker parameter is ignored.
		* Flag: `--upload-id-marker value`
	* _Optional_: The SIZE of each page to get in the service call. This does not affect the number of items returned in the command's output. Setting a smaller page size results in more calls to the service, retrieving fewer items in each call. This can help prevent the service calls from timing out. (default: 1000).
		* Flag: `--page-size SIZE`
	* _Optional_: The total NUMBER of items to return in the command's output. If the total number of items available is more than the value specified, a NextToken is provided in the command's output. To resume pagination, provide the NextToken value in the starting-token argument of a subsequent command. (default: 0).
		* Flag: `--max-items NUMBER`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## List objects
{: #ic-list-objects}
* **Action:** List files present in a bucket in a user's IBM Cloud Object Storage Account.  This operation is currently limited to the 1000 most recently created objects and can't be filtered.
* **Usage:** `ibmcloud cos list-objects --bucket BUCKET_NAME [--delimiter DELIMITER] [--encoding-type METHOD] [--prefix PREFIX] [--starting-token TOKEN] [--page-size SIZE] [--max-items NUMBER] [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: A DELIMITER is a character that you use to group keys.
		* Flag: `--delimiter DELIMITER`
	* _Optional_: Requests to encode the object keys in the response and specifies the encoding METHOD to use.
		* Flag: `--encoding-type METHOD`
	* _Optional_: Limits the response to keys that begin with the specified PREFIX.
		* Flag: `--prefix PREFIX`
	* _Optional_: A TOKEN to specify where to start paginating. This is the NextToken from a previously truncated response.
		* Flag: `--starting-token TOKEN`
	* _Optional_: The SIZE of each page to get in the service call. This does not affect the number of items returned in the command's output. Setting a smaller page size results in more calls to the service, retrieving fewer items in each call. This can help prevent the service calls from timing out. (default: 1000)
		* Flag: `--page-size SIZE`
	* _Optional_: The total NUMBER of items to return in the command's output. If the total number of items available is more than the value specified, a NextToken is provided in the command's output. To resume pagination, provide the NextToken value in the starting-token argument of a subsequent command. (default: 0)
		* Flag: `--max-items NUMBER`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## List parts
{: #ic-list-parts}
* **Action:** Print out information about an in progress multipart upload instance.
* **Usage:** `ibmcloud cos list-parts --bucket BUCKET_NAME --key KEY --upload-id ID --part-number-marker VALUE [--page-size SIZE] [--max-items NUMBER] [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* Upload ID identifying the multipart upload.
		* Flag: `--upload-id ID`
	* Part number VALUE after which listing begins (default: 1)
		* Flag: `--part-number-marker VALUE`
	* _Optional_: The SIZE of each page to get in the service call. This does not affect the number of items returned in the command's output. Setting a smaller page size results in more calls to the service, retrieving fewer items in each call. This can help prevent the service calls from timing out. (default: 1000)
		* Flag: `--page-size SIZE`
	* _Optional_: The total NUMBER of items to return in the command's output. If the total number of items available is more than the value specified, a NextToken is provided in the command's output. To resume pagination, provide the NextToken value in the starting-token argument of a subsequent command. (default: 0)
		* Flag: `--max-items NUMBER`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


## Set bucket CORS
{: #ic-set-bucket-cors}
* **Action:** Sets the CORS configuration for a bucket in the user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos put-bucket-cors --bucket BUCKET_NAME [--cors-configuration STRUCTURE] [--region REGION] [--json]`
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* _Optional_: A STRUCTURE using JSON syntax in a file.
		* Flag: `--cors-configuration STRUCTURE`
		* JSON Syntax:  
	`--cors-configuration file://<filename.json>`  
	The `--cors-configuration` command takes a JSON structure that describes the parts of the multipart upload that should be reassembled into the complete file. In this example, the `file://` prefix is used to load the JSON structure from the specified file.
	```
	{
  	"CORSRules": [
    	{
      	"AllowedHeaders": ["string", ...],
      	"AllowedMethods": ["string", ...],
      	"AllowedOrigins": ["string", ...],
      	"ExposeHeaders": ["string", ...],
      	"MaxAgeSeconds": integer
    	}
    	...
  	]
	}
	```
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`




## Put object
{: #ic-upload-object}
* **Action:** Upload an object to a bucket in a user's IBM Cloud Object Storage account.
* **Usage:** `ibmcloud cos put-object --bucket BUCKET_NAME --key KEY [--body FILE_PATH] [--cache-control CACHING_DIRECTIVES] [--content-disposition DIRECTIVES] [--content-encoding CONTENT_ENCODING] [--content-language LANGUAGE] [--content-length SIZE] [--content-md5 MD5] [--content-type MIME] [--metadata MAP] [--region REGION] [--json]`
* **Parameters to provide:**
    * The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* _Optional_: Object data location (`FILE_PATH`).
		* Flag: `--body FILE_PATH`
	* _Optional_: Specifies `CACHING_DIRECTIVES` for the request and reply chain.
		* Flag: `--cache-control CACHING_DIRECTIVES`
	* _Optional_: Specifies presentation information (`DIRECTIVES`).
		* Flag: `--content-disposition DIRECTIVES`
	* _Optional_: Specifies the content encoding (`CONTENT_ENCODING`) of the object.
		* Flag: `--content-encoding CONTENT_ENCODING`
	* _Optional_: The LANGUAGE the content is in.
		* Flag: `--content-language LANGUAGE`
	* _Optional_:  SIZE of the body in bytes. This parameter is useful when the size of the body cannot be determined automatically. (default: 0)
		* Flag: `--content-length SIZE`
	* _Optional_: The base64-encoded 128-bit MD5 digest of the data.
		* Flag: `--content-md5 MD5`
	* _Optional_: A standard MIME type describing the format of the object data.
		* Flag: `--content-type MIME`
	* _Optional_: A MAP of metadata to store. Syntax: KeyName1=string,KeyName2=string
		* Flag: `--metadata MAP`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

### Upload objects by using S3Manager
{: #ic-upload-s3manager}
* **Action:** Upload objects from S3 concurrently.
* **Usage:** `ibmcloud cos upload --bucket BUCKET_NAME --key KEY --file PATH [--concurrency value] [--max-upload-parts PARTS] [--part-size SIZE] [--leave-parts-on-errors] [--cache-control CACHING_DIRECTIVES] [--content-disposition DIRECTIVES] [--content-encoding CONTENT_ENCODING] [--content-language LANGUAGE] [--content-length SIZE] [--content-md5 MD5] [--content-type MIME] [--metadata MAP] [--region REGION] [--json]`
* **Parameters to provide:**
	* The name (BUCKET_NAME) of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* The PATH to the file to upload.
		* Flag: `--file PATH`
	* _Optional_: The number of goroutines to spin up in parallel per call to Upload when sending parts. Default value is 5.
		* Flag: `--concurrency value`
	* _Optional_: Max number of PARTS which will be uploaded to S3 that calculates the part size of the object to be uploaded.  Limit is 10,000 parts.
		* Flag: `--max-upload-parts PARTS`
	* _Optional_: The buffer SIZE (in bytes) to use when buffering data into chunks and ending them as parts to S3. The minimum allowed part size is 5MB.
		* Flag: `--part-size SIZE`
	* _Optional_: Setting this value to true will cause the SDK to avoid calling AbortMultipartUpload on a failure, leaving all successfully uploaded parts on S3 for manual recovery.
		* Flag: `--leave-parts-on-errors`
	* _Optional_: Specifies CACHING_DIRECTIVES for the request/reply chain.
		* Flag: `--cache-control CACHING_DIRECTIVES`
	* _Optional_: Specifies presentational information (DIRECTIVES).
		* Flag: `--content-disposition DIRECTIVES`
	* _Optional_: Specifies what content encodings (CONTENT_ENCODING) have been applied to the object and thus what decoding mechanisms must be applied to obtain the media-type referenced by the Content-Type header field.
		* Flag: `--content-encoding CONTENT_ENCODING`
	* _Optional_: The LANGUAGE the content is in.
		* Flag: `--content-language LANGUAGE`
	* _Optional_: SIZE of the body in bytes. This parameter is useful when the size of the body cannot be determined automatically.
		* Flag: `--content-length SIZE`
	* _Optional_: The base64-encoded 128-bit MD5 digest of the data.
		* Flag: `--content-md5 MD5`
	* _Optional_: A standard MIME type describing the format of the object data.
		* Flag: `--content-type MIME`
	* _Optional_: A MAP of metadata to store. Syntax: KeyName1=string,KeyName2=string
		* Flag: `--metadata MAP`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program will use the default option specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## Manually controlling multipart uploads
{: #ic-manual-multipart-uploads}

The IBM Cloud Object Storage CLI provides the ability for users to upload large files in multiple parts by using the AWS multipart upload functions. To initiate a new multipart upload, run the `multipart-upload-create` command, which returns the new upload instance's upload ID. To continue with the upload process, you must save the upload ID for each subsequent command. This command requires you to generate an MD5 hash:

```
{object data} | openssl dgst -md5 -binary | openssl enc -base64
```

After running the `multipart-upload-complete` command, run `part-upload` for each file part you want to upload. **For multipart uploads, every file part (except for the last part) must be at least 5 MB.** To split a file into separate parts, you can run `split` in a terminal window. For example, if you have a 13 MB file that is named `TESTFILE` on your Desktop, and you would like to split it into file parts of 5 MB each, you can run `split -b 3m ~/Desktop/TESTFILE part-file-`. This command generates three file parts into two file parts of 5 MB each, and one file part of 3 MB, with the names `part-file-aa`, `part-file-ab`, and `part-file-ac`.

As each file part is uploaded, the CLI print its ETag. You must save this ETag into a formatted JSON file, along with the part number. Use this template to create your own ETag JSON data file.

```
{
  "Parts": [
    {
      "PartNumber": 1,
      "ETag": "The ETag of the first file part goes here."
    },
    {
      "PartNumber": 2,
      "ETag": "The ETag of the second file part goes here."
    }
  ]
}
```

Add more entries to this JSON template as necessary.

To see the status of your multipart upload instance, you can always run the `part-list` command, providing the bucket name, key, and the upload ID. This print raw information about your multipart upload instance. Once you have completed uploading each part of the file, run the `multipart-upload-complete` command with the necessary parameters. If all goes well, you receive a confirmation that the file uploaded successfully to the wanted bucket.

### Upload a part
{: #ic-upload-part}
* **Action:** Upload a part of a file in an existing multipart upload instance.
* **Usage:** `ibmcloud cos upload-part --bucket BUCKET_NAME --key KEY --upload-id ID --part-number NUMBER [--body FILE_PATH] [--region REGION] [--json]`
	* Note that you must save each uploaded file part's number and ETag (which the CLI will print for you) for each part into a JSON file. Refer to the "Multipart Upload Guide" below for more information.
* **Parameters to provide:**
	* The bucket name where the multipart upload is taking place.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* Upload ID identifying the multipart upload.
		* Flag: `--upload-id ID`
	* Part NUMBER of part being uploaded. This is a positive integer in the range 1 - 10,000. (default: 1)
		* Flag: `--part-number NUMBER`
	* _Optional_: Object data location (`FILE_PATH`).
		* Flag: `--body FILE_PATH`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`


### Upload a part copy
{: #ic-upload-a-part-copy}
* **Action:** Upload a part by copying data from an existing object.
* **Usage:** `ibmcloud cos upload-part-copy --bucket BUCKET_NAME --key KEY --upload-id ID --part-number NUMBER --copy-source SOURCE [--copy-source-if-match ETAG] [--copy-source-if-modified-since TIMESTAMP] [--copy-source-if-none-match ETAG] [--copy-source-if-unmodified-since TIMESTAMP] [--copy-source-range value] [--region REGION] [--json]`
	* Note that you must save each uploaded file part's number and ETag (which the CLI will print for you) for each part into a JSON file. Refer to the "Multipart Upload Guide" for more information.
* **Parameters to provide:**
	* The name of the bucket.
		* Flag: `--bucket BUCKET_NAME`
	* The KEY of the object.
		* Flag: `--key KEY`
	* Upload ID identifying the multipart upload.
		* Flag: `--upload-id ID`
	* Part NUMBER of part being uploaded. This is a positive integer between 1 and 10,000.
		* Flag: `--part-number PART_NUMBER`
	* (SOURCE) The name of the source bucket and key name of the source object, which is separated by a slash (/). Must be URL-encoded.
		* Flag: `--copy-source SOURCE`
	* _Optional_: Copies the object if its entity tag (Etag) matches the specified tag (ETAG).
		* Flag: `--copy-source-if-match ETAG`
	* _Optional_: Copies the object if it has been modified since the specified time (TIMESTAMP).
		* Flag: `--copy-source-if-modified-since TIMESTAMP`
	* _Optional_: Copies the object if its entity tag (ETag) is different than the specified tag (ETAG).
		* Flag: `--copy-source-if-none-match ETAG`
	* _Optional_: Copies the object if it hasn't been modified since the specified time (TIMESTAMP).
		* Flag: `--copy-source-if-unmodified-since TIMESTAMP`
	* _Optional_: The range of bytes to copy from the source object. The range value must use the form bytes=first-last, where the first and last are the zero-based byte offsets to copy. For example, bytes=0-9 indicates that you want to copy the first ten bytes of the source. You can copy a range only if the source object is greater than 5 MB.
		* Flag: `--copy-source-range value`
	* _Optional_: The REGION where the bucket is present. If this flag is not provided, the program uses the default option that is specified in config.
		* Flag: `--region REGION`
	* _Optional_: Output returned in raw JSON format.
		* Flag: `--json`

## Wait
{: #ic-wait}
* **Action:** Wait until a particular condition is satisfied. Each subcommand polls an API until the listed requirement is met.
* **Usage:** `ibmcloud cos wait command [arguments...] [command options]`
* **Commands:**
    * `bucket-exists`
  		* Wait until 200 response is received when polling with head-bucket. It polls every 5 seconds until a successful state has been reached. This will exit with a return code of 255 after 20 failed checks.
	* `bucket-not-exists`
		* Wait until 404 response is received when polling with head-bucket. It polls every 5 seconds until a successful state has been reached. This will exit with a return code of 255 after 20 failed checks.
	* `object-exists`
		* Wait until 200 response is received when polling with head-object. It polls every 5 seconds until a successful state has been reached. This will exit with a return code of 255 after 20 failed checks.
	* `object-not-exists`
		* Wait until 404 response is received when polling with head-object. It polls every 5 seconds until a successful state has been reached. This will exit with a return code of 255 after 20 failed checks.
